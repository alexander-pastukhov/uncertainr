<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Walkthrough • uncertainr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Walkthrough">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">uncertainr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/percentile-intervals.html">Percentile intervals</a></li>
    <li><a class="dropdown-item" href="../articles/walkthrough.html">Walkthrough</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/alexander-pastukhov/uncertainr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Walkthrough</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/alexander-pastukhov/uncertainr/blob/HEAD/vignettes/walkthrough.Rmd" class="external-link"><code>vignettes/walkthrough.Rmd</code></a></small>
      <div class="d-none name"><code>walkthrough.Rmd</code></div>
    </div>

    
    
<p>This is a walk through for creating a package in R. It is not meant
to be exhaustive, as it leaves many optional features out. However, it
is aimed to cover all the essential steps in package creation, so that
at the end you will have a functional library you can extend.</p>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="prerequisites">Prerequisites<a class="anchor" aria-label="anchor" href="#prerequisites"></a>
</h2>
<p><a href="https://cran.rstudio.com/" class="external-link">R</a> and <a href="https://posit.co/download/rstudio-desktop/" class="external-link">RStudio</a>, plus the
following libraries, all available from CRAN:</p>
<ul>
<li>devtools</li>
<li>usethis - various useful utilities that provide useful
shortcuts</li>
<li>roxygen2 - for generating documentation and configuration files from
comments</li>
<li>pkgdown - for typesetting and publishing documentation online</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"devtools"</span>, <span class="st">"usethis"</span>, <span class="st">"roxygen2"</span>, <span class="st">"pkgdown"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="creating-a-blank-package-project">Creating a Blank Package Project<a class="anchor" aria-label="anchor" href="#creating-a-blank-package-project"></a>
</h2>
<p>From the <em>File</em> menu choose <em>New Project…</em>.</p>
<p>Next, choose <em>New Directory</em>:</p>
<p><img src="images/new-project-1.png" style="width:50.0%"></p>
<p>Then select <em>R Package</em>:</p>
<p><img src="images/new-project-2.png" style="width:50.0%"></p>
<p>In the next window, the most important choice you have to make is the
name of your project. Ideally, it should be short and memorable. It
should not be meaningful by itself. For example, in Hadley Wickham’s
<em>dplyr</em> “The d is for dataframes, the plyr is to evoke pliers.
Pronounce however you like.” His package with utilities for factors is
an anagram <em>forcats</em>. If you plan to submit your package to CRAN,
it is a good idea to check whether the name is already taken by trying
to install a package with this name via
<code>install.packages("your_package_name")</code>.</p>
<p>Other choices are the root directory for your project folder (it
would be created in your home folder by default) and whether to include
git version control from the get go. You can always add it later, if you
want, but keep in mind that both publishing online documentation and
publishing your package on CRAN.</p>
<p><img src="images/new-project-3.png" style="width:50.0%"></p>
<p>You end up with the following folder structure:</p>
<ul>
<li>
<img src="images/icon-folder.svg"> .git</li>
<li>
<img src="images/icon-folder.svg"> .Rproj.user</li>
<li>
<img src="images/icon-folder.svg"> Man
<ul>
<li>hello.Rd</li>
</ul>
</li>
<li>
<img src="images/icon-folder.svg"> R
<ul>
<li>hello.R</li>
</ul>
</li>
<li>.gitignore</li>
<li>.Rbiuldignore</li>
<li>uncertainr.Rproj</li>
<li>DESCRIPTION</li>
<li>NAMESPACE</li>
</ul>
<p>This is a minimal yet fully functional package with all necessary
files. However, we do not need example code (<strong>hello.R</strong>)
and documentation (<strong>hello.Rd</strong>), so delete them. In
addition, the default configuration assumes that you write you
documentation separately from code and that you maintain
<strong>NAMESPACE</strong> file that provides declaration for all
imports and exports for the package. The advantage of this method in
having minimal dependencies other than <em>devtools</em> package itself.
However, it is far more practical to use docstrings to document your
code and let <em>roxygen2</em> take care of both documentation and
<strong>NAMESPACE</strong>. We will add <em>roxygen2</em> integration
later and in the meantime delete <strong>NAMESPACE</strong> as well.</p>
<p>Files to delete:</p>
<ul>
<li>R/hello.R</li>
<li>Man/hello.RD</li>
<li>NAMESPACE</li>
</ul>
</div>
<div class="section level2">
<h2 id="setting-up-github-integration">Setting up Github integration<a class="anchor" aria-label="anchor" href="#setting-up-github-integration"></a>
</h2>
<p>Conceptually, this is an optional step that can also perform at the
very end. You can develop a package without a Github repository or even
without git version control whatsoever. I would strongly recommend using
git even if keeping things local, just for ability to branch and revert.
But if you want others to use your package, publish your documentation
at <a href="https://pages.github.com" class="external-link">github.io</a> and publish your
package on CRAN, you will need a public Github repository.</p>
<p>First, commit all files (I typically use “Blank project” or “Initial
commit” as a comment). Then type</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_github.html" class="external-link">use_github</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This will create a default branch for committed files (name
<em>main</em> by default), initialize the remote, add Github support to
the <strong>DESCRIPTION</strong> file, and push your files to the
remote.</p>
<p>Please note that to use Github you need to setup a github token
first. For this, call</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/github-token.html" class="external-link">create_github_token</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>and follow prompt. Next, register your token with git via</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">gitcreds</span><span class="fu">::</span><span class="fu"><a href="https://gitcreds.r-lib.org/reference/gitcreds_get.html" class="external-link">gitcreds_set</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Note that you’ll need to paste your token in the prompt.</p>
</div>
<div class="section level2">
<h2 id="description">DESCRIPTION<a class="anchor" aria-label="anchor" href="#description"></a>
</h2>
<p>Next, you need to update <strong>DESCRIPTION</strong> file replacing
defaults. The fields you are concerned with are:</p>
<ul>
<li>Title : a single sentence description of your library in <em>Title
Case</em>. If you are not sure what is a correct title case, simply run
<code>stringr::str_to_title("Your package title")</code>.</li>
<li>
<a href="mailto:Authors@R" class="email">Authors@R</a> : see
below</li>
<li>License : pick the one you like, in my case I have picker
<code>GPL (&gt;= 3)</code>.</li>
<li>Date: put the current date. If you planning to submit to CRAN, your
<strong>DESCRIPTION</strong> file <em>must</em> have the <em>Date</em>
field and it <em>must</em> be recent (I routinely forget to update it
before submitting a new version to CRAN and get auto-rejected because of
that).</li>
</ul>
<p>The <strong>Authors</strong> description is very flexible, so I
recommend reading <a href="https://cran.r-project.org/doc/manuals/R-exts.html#The-DESCRIPTION-file-1" class="external-link">official
documentation</a> on that. In my case, I am both the creator and the
author, so the entry looks as follows:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">Authors@R</span><span class="kw">:</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="at">  person(given = "Alexander",</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="at">         family = "Pastukhov",</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="at">         role = c("aut", "cre"),</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="at">         email ="pastukhov.alexander@gmail.com",</span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="at">         comment = c(ORCID = "0000-0002-8738-8591"))</span></span></code></pre></div>
<p>Here is my <strong>DESCRIPTION</strong> file after edits</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="fu">Package</span><span class="kw">:</span><span class="at"> uncertainr</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="fu">Type</span><span class="kw">:</span><span class="at"> Package</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="fu">Title</span><span class="kw">:</span><span class="at"> Collection of Functions To Characterize Uncertainty</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="fu">Version</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.1.0</span></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a><span class="fu">Date</span><span class="kw">:</span><span class="at"> 2025-07-12</span></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a><span class="fu">Authors@R</span><span class="kw">:</span></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a><span class="at">  person(given = "Alexander",</span></span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a><span class="at">         family = "Pastukhov",</span></span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a><span class="at">         role = c("aut", "cre"),</span></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a><span class="at">         email ="pastukhov.alexander@gmail.com",</span></span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a><span class="at">         comment = c(ORCID = "0000-0002-8738-8591"))</span></span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a><span class="fu">Description</span><span class="kw">:</span><span class="at"> Collection of functions to characterize uncertainty.</span></span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a><span class="at">    Includes functions to compute percentile intervals for an emperical</span></span>
<span id="cb6-14"><a href="#cb6-14" tabindex="-1"></a><span class="at">    distribution.</span></span>
<span id="cb6-15"><a href="#cb6-15" tabindex="-1"></a><span class="fu">License</span><span class="kw">:</span><span class="at"> GPL (&gt;= 3)</span></span>
<span id="cb6-16"><a href="#cb6-16" tabindex="-1"></a><span class="fu">Encoding</span><span class="kw">:</span><span class="at"> UTF-8</span></span>
<span id="cb6-17"><a href="#cb6-17" tabindex="-1"></a><span class="fu">LazyData</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="adding-roxygen2">Adding roxygen2<a class="anchor" aria-label="anchor" href="#adding-roxygen2"></a>
</h2>
<p>Simply run</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">roxygen2</span><span class="fu">::</span><span class="fu"><a href="https://roxygen2.r-lib.org/reference/roxygenize.html" class="external-link">roxygenise</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>in the console. This will add <code>“RoxygenNote: 7.3.2”</code> to
<strong>DESCRIPTION</strong> file (or whatever versoin of roxygen2 you
have). Plus, it will (re)create <strong>NAMESPACE</strong> file with a
message inside that you should not edit it by hand OR a warning that it
is already present and that you should delete it (in that case, delete
and rerun).</p>
</div>
<div class="section level2">
<h2 id="adding-a-first-function">Adding a first function<a class="anchor" aria-label="anchor" href="#adding-a-first-function"></a>
</h2>
<p>By this point, we have most of the scaffolding in place, so we can
start writing the code. Our first function will be a simpler wrapper
that computes a lower limit for a given percentile interval. For this,
create a file <strong>pi.R</strong> (for Percentile Intervals) in
<strong>R</strong> folder and copy-paste the following code:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lower_pi</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">values</span>, <span class="va">CI</span> <span class="op">=</span> <span class="fl">0.97</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/unname.html" class="external-link">unname</a></span><span class="op">(</span><span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">values</span>, <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">CI</span><span class="op">)</span> <span class="op">/</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>As you can see this is indeed a very simple wrapper around the
<code><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">stats::quantile()</a></code> function. Please note two optional
things. First, I use an explicit library reference. This is not required
<em>in this case</em> but IMHO makes it easier to keep track of external
functions that you need to import in your package. Second, I wrap the
call in <code><a href="https://rdrr.io/r/base/unname.html" class="external-link">unname()</a></code> to remove names returned by
<code><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile()</a></code>. This does change the actual values and does not
normally bother me, but it will interfere with unit testing later
(something I have discovered while preparing this material).</p>
</div>
<div class="section level2">
<h2 id="adding-docstring">Adding docstring<a class="anchor" aria-label="anchor" href="#adding-docstring"></a>
</h2>
<p>It is extremely important to document the code and this is our next
step. With text cursor in side the function, select <em>Code</em> →
<em>Insert Roxygen Skeleton</em> from the top menu and this will create
a template docstring in Roxygen format:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' Title</span></span>
<span><span class="co">#’</span></span>
<span><span class="co">#' @param values</span></span>
<span><span class="co">#' @param CI </span></span>
<span><span class="co">#’</span></span>
<span><span class="co">#' @returns</span></span>
<span><span class="co">#' @export</span></span>
<span><span class="co">#’</span></span>
<span><span class="co">#' @examples</span></span></code></pre></div>
<p>It is your job to fill it out. This is how I did it.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' Return lower boundary for the percentile interval</span></span>
<span><span class="co">#‘</span></span>
<span><span class="co">#' @param values Vector of numeric values</span></span>
<span><span class="co">#' @param CI Float, confidence level. Default is `0.97`</span></span>
<span><span class="co">#‘</span></span>
<span><span class="co">#' @returns Float</span></span>
<span><span class="co">#' @export</span></span>
<span><span class="co">#‘ @importFrom stats quantile</span></span>
<span><span class="co">#‘ </span></span>
<span><span class="co">#‘ @examples</span></span>
<span><span class="co">#‘ lower_pi(norm(100))</span></span></code></pre></div>
<p>Note that I have added <code>@importFrom stats quantile</code>. For
every function that is <em>not</em> in base R (which is why I do not
import <code><a href="https://rdrr.io/r/base/unname.html" class="external-link">unname()</a></code>), you need to explicitly declare the
import. This information is then used by Roxygen to generate the
<strong>NAMESPACE</strong> file. In contrast, the <code>@export</code>
is added by default but you can remove it, if you want this function to
be internal only and not available for an outside call.</p>
<p>Finally, one of the most import parts of documentation: examples.
Each function that you write <em>must</em> have examples, the more the
merrier. Here, I have just one, but I should have included at least
another example with a non-default CI, e.g.,
<code>lower_pi(rnorm(100), CI = 0.89)</code>.</p>
<p>Once you are done with the docstring, you need to run</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">roxygen2</span><span class="fu">::</span><span class="fu"><a href="https://roxygen2.r-lib.org/reference/roxygenize.html" class="external-link">roxygenise</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>in the console. This will update the <strong>NAMESPACE</strong> file
adding import of <code>quantile</code> and export of
<code>lower_pi</code> functions. It will also generated a documentation
file for the function creating <strong>lower_pi.Rd</strong> in the
<strong>man</strong> folder. Open it and click on <em>Preview</em>
button to see the documentation.</p>
</div>
<div class="section level2">
<h2 id="check-your-package">Check your package<a class="anchor" aria-label="anchor" href="#check-your-package"></a>
</h2>
<p>Now that we have the code, we need to check whether our package is a
top order. Simply press <em>Check</em> in the <em>Build</em> tab (at the
top right by default) or Ctrl+Shift+E on Windows and it will run a
thorough check on the package, including the example. In our case, I
deliberately made a typo writing <code>norm</code> instead of
<code>rnorm</code> and that generated an error message shown below. This
is a good thing, as it makes sure that all your examples work, but could
be problematic if the computation takes too long. In this case, you can
wrap the example in <code>\dontrun{}</code>, but use this sparingly.</p>
<pre><code>❯ checking examples ... ERROR
  Running examples in 'uncertainr-Ex.R' failed
  The error most likely occurred in:
  
  &gt; base::assign(".ptime", proc.time(), pos = "CheckExEnv")
  &gt; ### Name: lower_pi
  &gt; ### Title: Return lower boundary for the percentile interval
  &gt; ### Aliases: lower_pi
  &gt; 
  &gt; ### ** Examples
  &gt; 
  &gt; lower_pi(norm(100))
  Error in norm(100) : 'A' must be a numeric matrix
  Calls: lower_pi -&gt; unname -&gt; &lt;Anonymous&gt; -&gt; norm
  Execution halted

1 error ✖ | 0 warnings ✔ | 0 notes ✔
Error: R CMD check found ERRORs
Execution halted

Exited with status 1.</code></pre>
<p>Fix the error adding “r” and <strong>rerun the roxygen</strong>! Yes,
you need to explicitly run it every time you update your
documentation.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">roxygen2</span><span class="fu">::</span><span class="fu"><a href="https://roxygen2.r-lib.org/reference/roxygenize.html" class="external-link">roxygenise</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="tests">Tests<a class="anchor" aria-label="anchor" href="#tests"></a>
</h2>
<p>R has a checkered history when it comes to error and warning
messages, so it is a good idea to check inputs yourself and fail as
early as possible and with the clearest error message possible. As an
example, we will check the validity of the <code>CI</code> parameter. On
the one hand, we don’t <em>need</em> to do this, as the quantile
function will fail and generate an error mesagge. On the other hand, it
probably will not be immediatelly clear for a user that the problem is
with the <code>lower_pi</code> function, so we should spare them time
and effort discovering that. In general, more checks and earlier errors
and warnings are better than silent defaults R is so fond of.</p>
<p>Here is the update code for the function that insures that
<code>CI</code> is a single floating-point number:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lower_pi</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">values</span>, <span class="va">CI</span> <span class="op">=</span> <span class="fl">0.97</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Checking validity for CI value</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/double.html" class="external-link">is.double</a></span><span class="op">(</span><span class="va">CI</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">CI</span><span class="op">)</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">CI</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="va">CI</span><span class="op">&gt;</span><span class="fl">0.0</span> <span class="op">&amp;&amp;</span> <span class="va">CI</span><span class="op">&lt;</span><span class="fl">1.0</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"`CI` must be a single floating-point (double) number in 0..1 range."</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/unname.html" class="external-link">unname</a></span><span class="op">(</span><span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">values</span>, <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">CI</span><span class="op">)</span> <span class="op">/</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Now, we can move on to one of the most important auxiliary components
of a package: unit testing. When we write the code, we want to know that
it correctly works and correctly <em>fails</em>. We could always run a
few examples by hand to ensure this, but a better approach is create
numerous tests that checks the consistency of behavior that can be run
any time you modify the function and check the package (check also runs
all the tests).</p>
<p>First, we need to create scaffolding for the tests via</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_testthat.html" class="external-link">use_testthat</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Now run the following line to create a test file called
<strong>tests/testthat/test-pi.R</strong></p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_r.html" class="external-link">use_test</a></span><span class="op">(</span><span class="st">"pi"</span><span class="op">)</span></span></code></pre></div>
<p>Note that the file itself contains a generic test that has nothing to
do with your own code, so we need to replace it. Here is my first test.
I have change the name to match the functionality of our function and
added the first test that checks that the returned value matches our
expectations: lower limit for 0.9 interval for values from 0 to 20 is
1.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">test_that</span><span class="op">(</span><span class="st">"lower boundary percentile works"</span>, <span class="op">{</span> </span>
<span>    <span class="fu">expect_equal</span><span class="op">(</span><span class="fu"><a href="../reference/lower_pi.html">lower_pi</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">20</span>, CI<span class="op">=</span><span class="fl">0.9</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
<p>Run the test via <em>Test</em> button in the <em>Build</em> tab (or
press Ctrl+Shift+T on Windows) which runs <code><a href="https://devtools.r-lib.org/reference/test.html" class="external-link">devtools::test()</a></code>
and you will see the results. Modify either the value for
<code>CI</code> parameter or the expected value, re-run the test and you
will see it fail. In real life scenario this would immediately alert you
to the fact that your function is not working the way you thought it
should.</p>
<p>This section started with us adding a check for validity of the
<code>CI</code> parameter value, so we should also check that our
function fails when it should. Here are the additional checks that now
expect an error. This means that the test will fail, if the funciton
does not. Given our restriction on the value of CI, I check that the
funciton fails when it is out of range, it is the wrong type, or has
multiple values.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">test_that</span><span class="op">(</span><span class="st">"lower boundary percentile works"</span>, <span class="op">{</span> </span>
<span>    <span class="fu">expect_equal</span><span class="op">(</span><span class="fu"><a href="../reference/lower_pi.html">lower_pi</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">20</span>, CI<span class="op">=</span><span class="fl">0.9</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span>    <span class="co"># error is generated for invalid CI</span></span>
<span>    <span class="fu">expect_error</span><span class="op">(</span><span class="fu"><a href="../reference/lower_pi.html">lower_pi</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="fu">expect_error</span><span class="op">(</span><span class="fu"><a href="../reference/lower_pi.html">lower_pi</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>, <span class="st">"A"</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="fu">expect_error</span><span class="op">(</span><span class="fu"><a href="../reference/lower_pi.html">lower_pi</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.7</span>, <span class="fl">0.9</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
<p>Again, run the test and check that it all green. Note that we could
be adding more test and it is not uncommon, particularly in large
projects, for the test code to have more lines than the actual code
itself. So, do not spare your effort on tests (or documentation), it is
a false economy.</p>
</div>
<div class="section level2">
<h2 id="second-function">Second Function<a class="anchor" aria-label="anchor" href="#second-function"></a>
</h2>
<p>To make our package a bit more complete, let us add a sister function
that returns the <em>upper</em> limit of the percentile interval. I put
it in the same file, because they belong together, but you can also have
one function per file, whatever makes it more logical.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' Return upper boundary for the percentile interval</span></span>
<span><span class="co">#‘</span></span>
<span><span class="co">#' @param values Vector of numeric values</span></span>
<span><span class="co">#' @param CI Float, confidence level. Default is `0.97`</span></span>
<span><span class="co">#‘</span></span>
<span><span class="co">#' @returns Float</span></span>
<span><span class="co">#' @export</span></span>
<span><span class="co">#' @importFrom stats quantile</span></span>
<span><span class="co">#‘</span></span>
<span><span class="co">#' @examples</span></span>
<span><span class="co">#' upper_pi(rnorm(100))</span></span>
<span><span class="va">upper_pi</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">values</span>, <span class="va">CI</span> <span class="op">=</span> <span class="fl">0.97</span><span class="op">)</span> <span class="op">{</span>  </span>
<span>    <span class="co"># Checking validity for CI value</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/double.html" class="external-link">is.double</a></span><span class="op">(</span><span class="va">CI</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">CI</span><span class="op">)</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">CI</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="va">CI</span><span class="op">&gt;</span><span class="fl">0.0</span> <span class="op">&amp;&amp;</span> <span class="va">CI</span><span class="op">&lt;</span><span class="fl">1.0</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"`CI` must be a single floating-point (double) number in 0..1 range."</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>   <span class="fu"><a href="https://rdrr.io/r/base/unname.html" class="external-link">unname</a></span><span class="op">(</span><span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">values</span>, <span class="fl">1</span> <span class="op">-</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">CI</span><span class="op">)</span> <span class="op">/</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Since we have another function, we should add tests for it in
<strong>tests/testthat/test-pi.R</strong>:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="fu">test_that</span>(“upper boundary percentile works<span class="st">", { </span></span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a><span class="st">    expect_equal(upper_pi(0:20, CI=0.9), 19)</span></span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a><span class="st">    # error is generated for invalid CI</span></span>
<span id="cb20-5"><a href="#cb20-5" tabindex="-1"></a><span class="st">    expect_error(upper_pi(rnorm(100), -1))</span></span>
<span id="cb20-6"><a href="#cb20-6" tabindex="-1"></a><span class="st">    expect_error(upper_pi(rnorm(100), "</span>A<span class="st">"))</span></span>
<span id="cb20-7"><a href="#cb20-7" tabindex="-1"></a><span class="st">    expect_error(upper_pi(rnorm(100), c(0.7, 0.9)))</span></span>
<span id="cb20-8"><a href="#cb20-8" tabindex="-1"></a><span class="st">})</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example-data">Example data<a class="anchor" aria-label="anchor" href="#example-data"></a>
</h2>
<p>One of the important components of an R package is the data that can
be used in examples and the user can load via <code><a href="https://rdrr.io/r/utils/data.html" class="external-link">data()</a></code>
function. In typical cases, this is an actual data that you either
obtained from an open source or your own data that you are willing to
share. In this case, we will simply generate normally distributed
values.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">standard_normal</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Now that the data frame is in the global environment, we can turn it
into example data set via</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_data.html" class="external-link">use_data</a></span><span class="op">(</span><span class="va">standard_normal</span><span class="op">)</span></span></code></pre></div>
<p>This creates a folder <strong>data</strong> and saves the table into
<strong>standard_normal.rda</strong>. Now you can load it via
<code>data(standard_normal)</code>.</p>
<p>However, we are not done! Remember, the package lives and dies by its
documentation, so we need to document the example data set as well. For
this, we need to create a new <em>source</em> file
<strong>R/data.R</strong> that will be parsed by roxygen. This file
should contain descriptions for all data sets in the following
format:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#‘ Title</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#‘ Description</span></span>
<span><span class="co">#‘ Multiline if needed.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @format</span></span>
<span><span class="co">#' A data frame with N rows and M columns:</span></span>
<span><span class="co">#' \describe{</span></span>
<span><span class="co">#'   \item{Column 1}{Column description}</span></span>
<span><span class="co">#'   \item{Column M}{Column description}</span></span>
<span><span class="co">#' }</span></span>
<span><span class="co">#' @source &lt;https:///&gt;</span></span>
<span><span class="st">"table_name"</span></span></code></pre></div>
<p>Here is an example of the data set description from a different
package:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' Art has the power to stretch the boundaries of moral behaviour</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' A subset of data from the "Art has the power to stretch the boundaries of moral behaviour"</span></span>
<span><span class="co">#' manuscript.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @format</span></span>
<span><span class="co">#' A data frame with 25,400 rows and 6 columns:</span></span>
<span><span class="co">#' \describe{</span></span>
<span><span class="co">#'   \item{Group}{Experimental group, factor with three levels: "NonArt-Online", "Art-Online", and "Art-Gallery"}</span></span>
<span><span class="co">#'   \item{ID}{Participant ID}</span></span>
<span><span class="co">#'   \item{Response}{Response on a 7-point Likert scale}</span></span>
<span><span class="co">#'   \item{PaintingKind}{Factor with two levels: "Moral" or "Immoral"}</span></span>
<span><span class="co">#'   \item{PaintingID}{ID of individual paintings}</span></span>
<span><span class="co">#'   \item{Scale}{Questionnaire scale, factor with 10 levels}</span></span>
<span><span class="co">#' }</span></span>
<span><span class="co">#' @source &lt;https://osf.io/zf476/&gt;</span></span>
<span><span class="st">"art"</span></span></code></pre></div>
<p>And here is the description for the table in our package:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' Standard normally distributed values</span></span>
<span><span class="co">#’</span></span>
<span><span class="co">#' Table with normally distributed values</span></span>
<span><span class="co">#' with mean = 0 and standard deviation = 1.</span></span>
<span><span class="co">#’</span></span>
<span><span class="co">#' @format</span></span>
<span><span class="co">#' A data frame with 100 rows and 1 column:</span></span>
<span><span class="co">#' \describe{</span></span>
<span><span class="co">#'   \item{Value}{Normally distributed values.}</span></span>
<span><span class="co">#’ }</span></span>
<span><span class="st">"standard_normal"</span></span></code></pre></div>
<p>Do not forget to <code>roxeginize</code> your documentation, once you
are done writing the docstring.</p>
</div>
<div class="section level2">
<h2 id="more-documentation-readme">More Documentation: README<a class="anchor" aria-label="anchor" href="#more-documentation-readme"></a>
</h2>
<p>So far, we have neglected the <strong>README</strong> file, which is
extremely important, as this is what others see when they are looking at
repository. Minimally, it should contain information about the purpose
of the package, how to install and use it. Here is my take on this:</p>
<pre><code># uncertainr
Collection of Functions To Characterize Uncertainty. Includes functions to compute percentile intervals for an empirical distribution.

## Installation
To install from CRAN
``` r
install.packages("installr")
```
To install from github
``` r 
library("devtools")
install_github("alexander-pastukhov/installr", dependencies=TRUE)
```
## Usage
``` r
library(installr)
lower_pi(rnorm(100))
```</code></pre>
</div>
<div class="section level2">
<h2 id="even-more-documentation-vignettes">Even More Documentation: Vignettes<a class="anchor" aria-label="anchor" href="#even-more-documentation-vignettes"></a>
</h2>
<p>It is a very good idea to include vignettes into your documentation:
articles that explain certain functionality or concepts behind the
computation at length and in depth. To create a vignette run</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_vignette.html" class="external-link">use_vignette</a></span><span class="op">(</span><span class="st">"percentile-intervals"</span><span class="op">)</span></span></code></pre></div>
<p>This will create a file <strong>percentile-intervals.Rmd</strong> in
<strong>vignettes</strong> folder, which you edit and knit directly.
Here is a simple vignette that I have created. This is way to short to
be useful as an actual vignette, but that stems from the limited nature
of our package. In real-life scenario, packages often have a series of
connected functions that perform computation, summarize, and plot the
results, and a vignette is a perfect place to show the entire pipeline
startin with data preparation to plotting the final result.</p>
<hr>
<pre><code>---
title: "Percentile intervals"
output: rmarkdown::html_vignette
vignette: &gt;
  %\VignetteIndexEntry{Percentile intervals}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---


``` r
library(uncertainr)
```

Basic usage

``` r
standard_normal &lt;- rnorm(100)
c(lower_pi(standard_normal), upper_pi(standard_normal))
#&gt; [1] -2.358136  2.383054
```

Custom interval

``` r
lower_pi(standard_normal, 0.89)
#&gt; [1] -1.84468
```</code></pre>
<hr>
<p>Please note that if you are installing the package locally (which you
can do via <em>Clean and Install</em> button in the <em>Build</em> tab),
by default, the vignettes are not included. Hence, you need to
explicitly whish for them:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/install.html" class="external-link">install</a></span><span class="op">(</span>build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="creating-public-documentation">Creating Public Documentation<a class="anchor" aria-label="anchor" href="#creating-public-documentation"></a>
</h2>
<p>The advantage of doing a proper documentation from the get go is that
you need a minimal effort to turn it into public documentation available
via gitpages. The package that does the job is <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>, which takes README and
turns it into the front page, puts all vignettes as articles, and
documentation for all functions into a reference page. Here is the link
to the documentation for this package: <a href="https://alexander-pastukhov.github.io/uncertainr/">alexander-pastukhov.github.io/uncertainr</a>.</p>
<p>To set it up, call</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_pkgdown.html" class="external-link">use_pkgdown_github_pages</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This will create configuration, creating branch gh-pages and
associated workflows. Once you update your documentation locally, you
can update it at gitpages via</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">pkgdown</span><span class="fu">::</span><span class="fu"><a href="https://pkgdown.r-lib.org/reference/deploy_to_branch.html" class="external-link">deploy_to_branch</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="preparing-for-cran">Preparing for CRAN<a class="anchor" aria-label="anchor" href="#preparing-for-cran"></a>
</h2>
<p>If you want to publish your package on [CRAN], you need to first run
<em>Check</em> and make sure there are no errors and warnings. You are
allowed to have notes but only if you can explain why the underlying
issue is essential to the package, e.g., use of GNU compiler. Otherwise,
resolve the issue that generates the note. Once you are ready click on
<em>Build Source Package</em>. This will create
<strong>uncertainr_0.1.0.tar.gz</strong> file.</p>
<p>Once you have that file and are pretty confident that you didn’t miss
anything, you go to the official <a href="https://cran.r-project.org/submit.html" class="external-link">submission page</a>, fill
out the information and attach the file. The only non-trivial field here
is <em>Optinonal comments</em>. Use them if you need to explain
unavoidable NOTES in the check. On the next page, the form fields will
populated from the <strong>DESCRIPTION</strong> file, so it a good point
to check that it is up to date (including the <em>Date</em> field!).
Once you submit, you get an email with a link to confirm the submission.
Some time later (typically within the same day), a CRAN maintainer will
run automatic check and you get an email with issues that you need to
fix. For some reason, their automatic check is more thorough than the
ones you ran, so it might catch some additional issues (such as the data
or title case for the title). Do not get discouraged, just fix the
issue, resubmit, get response, fix again, etc. Eventually, you will get
a message that your package is on the way to CRAN!</p>
</div>
<div class="section level2">
<h2 id="cherry-on-top-hex-sticker">Cherry on top: Hex Sticker<a class="anchor" aria-label="anchor" href="#cherry-on-top-hex-sticker"></a>
</h2>
<p>R has a tradition of hex stickers for packages.</p>
<p><img src="images/rstudio-stickers.jpg"></p>
<p>You can design your own using hexSticker package or by hand. Here is
a sticker I designed for this package:</p>
<p><img src="images/logo.svg" style="width:10.0%"></p>
</div>
<div class="section level2">
<h2 id="creating-a-doi-for-your-package">Creating a DOI for your package<a class="anchor" aria-label="anchor" href="#creating-a-doi-for-your-package"></a>
</h2>
<p>If you want people to cite your package even without a paper (more on
that below), you can create the Digital Object Identifier for each
release. For this, head to <a href="https://zenodo.org/" class="external-link">zenodo.org</a>,
create an account, and follow the instructions. You will need to give
Zenodo access to your Github account, so it can automate DOI generation
for each release. You can decide which repositories it watches. As a
nice visual bonus, you get a nice DOI badge you can easily embed in your
README, e.g.:</p>
<p><a href="https://doi.org/10.5281/zenodo.14535613" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.14535613.svg" alt="DOI"></a></p>
</div>
<div class="section level2">
<h2 id="publishing-a-paper-on-your-package">Publishing A Paper On Your Package<a class="anchor" aria-label="anchor" href="#publishing-a-paper-on-your-package"></a>
</h2>
<p>You probably want credit and recognition for the work you have done,
so it is a good idea to publish a paper on it. Where some obvious
choice, such as <a href="https://www.psychonomic.org/page/brm" class="external-link">Behavior
Research Methods</a>. Perhaps less known options are the <a href="https://www.jstatsoft.org/index" class="external-link">Journal of Statistical
Software</a> and <a href="https://joss.theoj.org/" class="external-link">Journal of Open
Source Software</a>. The philosophy of the latter is that you already
did a lot by writing the package, so creating a paper should be as
little of hurdle as possible. Hence, you can just take your vignettes as
section, put together some intro and outro and submit. The submission
and reviewing process is unusual and cool. Your submission is just a
branch in your Github repository and the reviewer literally raises
issues that you respond to (and if you are lucky, they might even make a
pull request). I had a very positive experience as both an author and a
reviewer, so this is definitely a very interesting option.</p>
</div>
<div class="section level2">
<h2 id="additional-resources">Additional Resources<a class="anchor" aria-label="anchor" href="#additional-resources"></a>
</h2>
<p>The aim of this walk through was to cover all important topics that I
feel are a part of a minimal package. You can build on this foundation
and create more complex packages that use classes and formulas, include
C or Stan code, etc. The sky is the limit. Here are some useful
resources to help with your future endeavors:</p>
<ul>
<li><a href="https://cran.r-project.org/doc/manuals/R-exts.html" class="external-link">Writing
R Extensions</a></li>
<li><a href="https://docs.posit.co/ide/user/ide/guide/pkg-devel/writing-packages.html" class="external-link">Writing
packages from Posit</a></li>
<li><a href="https://adv-r.hadley.nz/" class="external-link">Advanced R</a></li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Alexander Pastukhov.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
