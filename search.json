[{"path":"https://alexander-pastukhov.github.io/uncertainr/articles/walkthrough.html","id":"prerequisites","dir":"Articles","previous_headings":"","what":"Prerequisites","title":"Walkthrough","text":"R RStudio, plus following libraries, available CRAN: devtools usethis - various useful utilities provide useful shortcuts roxygen2 - generating documentation configuration files comments pkgdown - typesetting publishing documentation online","code":"install.packages(c(\"devtools\", \"usethis\", \"roxygen2\", \"pkgdown\"))"},{"path":"https://alexander-pastukhov.github.io/uncertainr/articles/walkthrough.html","id":"creating-a-blank-package-project","dir":"Articles","previous_headings":"","what":"Creating a Blank Package Project","title":"Walkthrough","text":"File menu choose New Project…. Next, choose New Directory:  select R Package:  next window, important choice make name project. Ideally, short memorable. meaningful . example, Hadley Wickham’s dplyr “d dataframes, plyr evoke pliers. Pronounce however like.” package utilities factors anagram forcats. plan submit package CRAN, good idea check whether name already taken trying install package name via install.packages(\"your_package_name\"). choices root directory project folder (created home folder default) whether include git version control get go. can always add later, want, keep mind publishing online documentation publishing package CRAN.  end following folder structure: .git .Rproj.user hello.Rd hello.R .gitignore .Rbiuldignore uncertainr.Rproj DESCRIPTION NAMESPACE minimal yet fully functional package necessary files. However, need example code (hello.R) documentation (hello.Rd), delete . addition, default configuration assumes write documentation separately code maintain NAMESPACE file provides declaration imports exports package. advantage method minimal dependencies devtools package . However, far practical use docstrings document code let roxygen2 take care documentation NAMESPACE. add roxygen2 integration later meantime delete NAMESPACE well. Files delete: R/hello.R Man/hello.RD NAMESPACE","code":""},{"path":"https://alexander-pastukhov.github.io/uncertainr/articles/walkthrough.html","id":"setting-up-github-integration","dir":"Articles","previous_headings":"","what":"Setting up Github integration","title":"Walkthrough","text":"Conceptually, optional step can also perform end. can develop package without Github repository even without git version control whatsoever. strongly recommend using git even keeping things local, just ability branch revert. want others use package, publish documentation github.io publish package CRAN, need public Github repository. First, commit files (typically use “Blank project” “Initial commit” comment). type create default branch committed files (name main default), initialize remote, add Github support DESCRIPTION file, push files remote. Please note use Github need setup github token first. , call follow prompt. Next, register token git via Note ’ll need paste token prompt.","code":"usethis::use_github() usethis::create_github_token() gitcreds::gitcreds_set()"},{"path":"https://alexander-pastukhov.github.io/uncertainr/articles/walkthrough.html","id":"description","dir":"Articles","previous_headings":"","what":"DESCRIPTION","title":"Walkthrough","text":"Next, need update DESCRIPTION file replacing defaults. fields concerned : Title : single sentence description library Title Case. sure correct title case, simply run stringr::str_to_title(\"package title\"). Authors@R : see License : pick one like, case picker GPL (>= 3). Date: put current date. planning submit CRAN, DESCRIPTION file must Date field must recent (routinely forget update submitting new version CRAN get auto-rejected ). Authors description flexible, recommend reading official documentation . case, creator author, entry looks follows: DESCRIPTION file edits","code":"Authors@R:   person(given = \"Alexander\",          family = \"Pastukhov\",          role = c(\"aut\", \"cre\"),          email =\"pastukhov.alexander@gmail.com\",          comment = c(ORCID = \"0000-0002-8738-8591\")) Package: uncertainr Type: Package Title: Collection of Functions To Characterize Uncertainty Version: 0.1.0 Date: 2025-07-12 Authors@R:   person(given = \"Alexander\",          family = \"Pastukhov\",          role = c(\"aut\", \"cre\"),          email =\"pastukhov.alexander@gmail.com\",          comment = c(ORCID = \"0000-0002-8738-8591\")) Description: Collection of functions to characterize uncertainty.     Includes functions to compute percentile intervals for an emperical     distribution. License: GPL (>= 3) Encoding: UTF-8 LazyData: true"},{"path":"https://alexander-pastukhov.github.io/uncertainr/articles/walkthrough.html","id":"adding-roxygen2","dir":"Articles","previous_headings":"","what":"Adding roxygen2","title":"Walkthrough","text":"Simply run console. add “RoxygenNote: 7.3.2” DESCRIPTION file (whatever versoin roxygen2 ). Plus, (re)create NAMESPACE file message inside edit hand warning already present delete (case, delete rerun).","code":"roxygen2::roxygenise()"},{"path":"https://alexander-pastukhov.github.io/uncertainr/articles/walkthrough.html","id":"adding-a-first-function","dir":"Articles","previous_headings":"","what":"Adding a first function","title":"Walkthrough","text":"point, scaffolding place, can start writing code. first function simpler wrapper computes lower limit given percentile interval. , create file pi.R (Percentile Intervals) R folder copy-paste following code: can see indeed simple wrapper around stats::quantile() function. Please note two optional things. First, use explicit library reference. required case IMHO makes easier keep track external functions need import package. Second, wrap call unname() remove names returned quantile(). change actual values normally bother , interfere unit testing later (something discovered preparing material).","code":"lower_pi <- function(values, CI = 0.97) {   unname(stats::quantile(values, (1 - CI) / 2)) }"},{"path":"https://alexander-pastukhov.github.io/uncertainr/articles/walkthrough.html","id":"adding-docstring","dir":"Articles","previous_headings":"","what":"Adding docstring","title":"Walkthrough","text":"extremely important document code next step. text cursor side function, select Code → Insert Roxygen Skeleton top menu create template docstring Roxygen format: job fill . . Note added @importFrom stats quantile. every function base R (import unname()), need explicitly declare import. information used Roxygen generate NAMESPACE file. contrast, @export added default can remove , want function internal available outside call. Finally, one import parts documentation: examples. function write must examples, merrier. , just one, included least another example non-default CI, e.g., lower_pi(rnorm(100), CI = 0.89). done docstring, need run console. update NAMESPACE file adding import quantile export lower_pi functions. also generated documentation file function creating lower_pi.Rd man folder. Open click Preview button see documentation.","code":"#' Title #’ #' @param values #' @param CI  #’ #' @returns #' @export #’ #' @examples #' Return lower boundary for the percentile interval #‘ #' @param values Vector of numeric values #' @param CI Float, confidence level. Default is `0.97` #‘ #' @returns Float #' @export #‘ @importFrom stats quantile #‘  #‘ @examples #‘ lower_pi(norm(100)) roxygen2::roxygenise()"},{"path":"https://alexander-pastukhov.github.io/uncertainr/articles/walkthrough.html","id":"check-your-package","dir":"Articles","previous_headings":"","what":"Check your package","title":"Walkthrough","text":"Now code, need check whether package top order. Simply press Check Build tab (top right default) Ctrl+Shift+E Windows run thorough check package, including example. case, deliberately made typo writing norm instead rnorm generated error message shown . good thing, makes sure examples work, problematic computation takes long. case, can wrap example \\dontrun{}, use sparingly. Fix error adding “r” rerun roxygen! Yes, need explicitly run every time update documentation.","code":"❯ checking examples ... ERROR   Running examples in 'uncertainr-Ex.R' failed   The error most likely occurred in:      > base::assign(\".ptime\", proc.time(), pos = \"CheckExEnv\")   > ### Name: lower_pi   > ### Title: Return lower boundary for the percentile interval   > ### Aliases: lower_pi   >    > ### ** Examples   >    > lower_pi(norm(100))   Error in norm(100) : 'A' must be a numeric matrix   Calls: lower_pi -> unname -> <Anonymous> -> norm   Execution halted  1 error ✖ | 0 warnings ✔ | 0 notes ✔ Error: R CMD check found ERRORs Execution halted  Exited with status 1. roxygen2::roxygenise()"},{"path":"https://alexander-pastukhov.github.io/uncertainr/articles/walkthrough.html","id":"tests","dir":"Articles","previous_headings":"","what":"Tests","title":"Walkthrough","text":"R checkered history comes error warning messages, good idea check inputs fail early possible clearest error message possible. example, check validity CI parameter. one hand, don’t need , quantile function fail generate error mesagge. hand, probably immediatelly clear user problem lower_pi function, spare time effort discovering . general, checks earlier errors warnings better silent defaults R fond . update code function insures CI single floating-point number: Now, can move one important auxiliary components package: unit testing. write code, want know correctly works correctly fails. always run examples hand ensure , better approach create numerous tests checks consistency behavior can run time modify function check package (check also runs tests). First, need create scaffolding tests via Now run following line create test file called tests/testthat/test-pi.R Note file contains generic test nothing code, need replace . first test. change name match functionality function added first test checks returned value matches expectations: lower limit 0.9 interval values 0 20 1. Run test via Test button Build tab (press Ctrl+Shift+T Windows) runs devtools::test() see results. Modify either value CI parameter expected value, re-run test see fail. real life scenario immediately alert fact function working way thought . section started us adding check validity CI parameter value, also check function fails . additional checks now expect error. means test fail, funciton . Given restriction value CI, check funciton fails range, wrong type, multiple values. , run test check green. Note adding test uncommon, particularly large projects, test code lines actual code . , spare effort tests (documentation), false economy.","code":"lower_pi <- function(values, CI = 0.97) {   # Checking validity for CI value   if (!(is.double(CI) && length(CI) == 1 && !is.na(CI) && CI>0.0 && CI<1.0)) {     stop(\"`CI` must be a single floating-point (double) number in 0..1 range.\")   }    unname(stats::quantile(values, (1 - CI) / 2)) } usethis::use_testthat() usethis::use_test(\"pi\") test_that(\"lower boundary percentile works\", {      expect_equal(lower_pi(0:20, CI=0.9), 1) }) test_that(\"lower boundary percentile works\", {      expect_equal(lower_pi(0:20, CI=0.9), 1)      # error is generated for invalid CI     expect_error(lower_pi(rnorm(100), -1))     expect_error(lower_pi(rnorm(100), \"A\"))     expect_error(lower_pi(rnorm(100), c(0.7, 0.9))) })"},{"path":"https://alexander-pastukhov.github.io/uncertainr/articles/walkthrough.html","id":"second-function","dir":"Articles","previous_headings":"","what":"Second Function","title":"Walkthrough","text":"make package bit complete, let us add sister function returns upper limit percentile interval. put file, belong together, can also one function per file, whatever makes logical. Since another function, add tests tests/testthat/test-pi.R:","code":"#' Return upper boundary for the percentile interval #‘ #' @param values Vector of numeric values #' @param CI Float, confidence level. Default is `0.97` #‘ #' @returns Float #' @export #' @importFrom stats quantile #‘ #' @examples #' upper_pi(rnorm(100)) upper_pi <- function(values, CI = 0.97) {       # Checking validity for CI value     if (!(is.double(CI) && length(CI) == 1 && !is.na(CI) && CI>0.0 && CI<1.0)) {         stop(\"`CI` must be a single floating-point (double) number in 0..1 range.\")     }    unname(stats::quantile(values, 1 - (1 - CI) / 2)) } test_that(“upper boundary percentile works\", {      expect_equal(upper_pi(0:20, CI=0.9), 19)      # error is generated for invalid CI     expect_error(upper_pi(rnorm(100), -1))     expect_error(upper_pi(rnorm(100), \"A\"))     expect_error(upper_pi(rnorm(100), c(0.7, 0.9))) })"},{"path":"https://alexander-pastukhov.github.io/uncertainr/articles/walkthrough.html","id":"example-data","dir":"Articles","previous_headings":"","what":"Example data","title":"Walkthrough","text":"One important components R package data can used examples user can load via data() function. typical cases, actual data either obtained open source data willing share. case, simply generate normally distributed values. Now data frame global environment, can turn example data set via creates folder data saves table standard_normal.rda. Now can load via data(standard_normal). However, done! Remember, package lives dies documentation, need document example data set well. , need create new source file R/data.R parsed roxygen. file contain descriptions data sets following format: example data set description different package: description table package: forget roxeginize documentation, done writing docstring.","code":"standard_normal <- data.frame(Value = rnorm(100)) usethis::use_data(standard_normal) #‘ Title #' #‘ Description #‘ Multiline if needed. #' #' @format #' A data frame with N rows and M columns: #' \\describe{ #'   \\item{Column 1}{Column description} #'   \\item{Column M}{Column description} #' } #' @source <https:///> \"table_name\" #' Art has the power to stretch the boundaries of moral behaviour #' #' A subset of data from the \"Art has the power to stretch the boundaries of moral behaviour\" #' manuscript. #' #' @format #' A data frame with 25,400 rows and 6 columns: #' \\describe{ #'   \\item{Group}{Experimental group, factor with three levels: \"NonArt-Online\", \"Art-Online\", and \"Art-Gallery\"} #'   \\item{ID}{Participant ID} #'   \\item{Response}{Response on a 7-point Likert scale} #'   \\item{PaintingKind}{Factor with two levels: \"Moral\" or \"Immoral\"} #'   \\item{PaintingID}{ID of individual paintings} #'   \\item{Scale}{Questionnaire scale, factor with 10 levels} #' } #' @source <https://osf.io/zf476/> \"art\" #' Standard normally distributed values #’ #' Table with normally distributed values #' with mean = 0 and standard deviation = 1. #’ #' @format #' A data frame with 100 rows and 1 column: #' \\describe{ #'   \\item{Value}{Normally distributed values.} #’ } \"standard_normal\""},{"path":"https://alexander-pastukhov.github.io/uncertainr/articles/walkthrough.html","id":"more-documentation-readme","dir":"Articles","previous_headings":"","what":"More Documentation: README","title":"Walkthrough","text":"far, neglected README file, extremely important, others see looking repository. Minimally, contain information purpose package, install use . take :","code":"# uncertainr Collection of Functions To Characterize Uncertainty. Includes functions to compute percentile intervals for an empirical distribution.  ## Installation To install from CRAN ``` r install.packages(\"installr\") ``` To install from github ``` r  library(\"devtools\") install_github(\"alexander-pastukhov/installr\", dependencies=TRUE) ``` ## Usage ``` r library(installr) lower_pi(rnorm(100)) ```"},{"path":"https://alexander-pastukhov.github.io/uncertainr/articles/walkthrough.html","id":"even-more-documentation-vignettes","dir":"Articles","previous_headings":"","what":"Even More Documentation: Vignettes","title":"Walkthrough","text":"good idea include vignettes documentation: articles explain certain functionality concepts behind computation length depth. create vignette run create file percentile-intervals.Rmd vignettes folder, edit knit directly. simple vignette created. way short useful actual vignette, stems limited nature package. real-life scenario, packages often series connected functions perform computation, summarize, plot results, vignette perfect place show entire pipeline startin data preparation plotting final result. Please note installing package locally (can via Clean Install button Build tab), default, vignettes included. Hence, need explicitly whish :","code":"usethis::use_vignette(\"percentile-intervals\") --- title: \"Percentile intervals\" output: rmarkdown::html_vignette vignette: >   %\\VignetteIndexEntry{Percentile intervals}   %\\VignetteEngine{knitr::rmarkdown}   %\\VignetteEncoding{UTF-8} ---   ``` r library(uncertainr) ```  Basic usage  ``` r standard_normal <- rnorm(100) c(lower_pi(standard_normal), upper_pi(standard_normal)) #> [1] -2.358136  2.383054 ```  Custom interval  ``` r lower_pi(standard_normal, 0.89) #> [1] -1.84468 ``` devtools::install(build_vignettes = TRUE)"},{"path":"https://alexander-pastukhov.github.io/uncertainr/articles/walkthrough.html","id":"creating-public-documentation","dir":"Articles","previous_headings":"","what":"Creating Public Documentation","title":"Walkthrough","text":"advantage proper documentation get go need minimal effort turn public documentation available via gitpages. package job pkgdown, takes README turns front page, puts vignettes articles, documentation functions reference page. link documentation package: alexander-pastukhov.github.io/uncertainr. set , call create configuration, creating branch gh-pages associated workflows. update documentation locally, can update gitpages via","code":"usethis::use_pkgdown_github_pages() pkgdown::deploy_to_branch()"},{"path":"https://alexander-pastukhov.github.io/uncertainr/articles/walkthrough.html","id":"preparing-for-cran","dir":"Articles","previous_headings":"","what":"Preparing for CRAN","title":"Walkthrough","text":"want publish package [CRAN], need first run Check make sure errors warnings. allowed notes can explain underlying issue essential package, e.g., use GNU compiler. Otherwise, resolve issue generates note. ready click Build Source Package. create uncertainr_0.1.0.tar.gz file. file pretty confident didn’t miss anything, go official submission page, fill information attach file. non-trivial field Optinonal comments. Use need explain unavoidable NOTES check. next page, form fields populated DESCRIPTION file, good point check date (including Date field!). submit, get email link confirm submission. time later (typically within day), CRAN maintainer run automatic check get email issues need fix. reason, automatic check thorough ones ran, might catch additional issues (data title case title). get discouraged, just fix issue, resubmit, get response, fix , etc. Eventually, get message package way CRAN!","code":""},{"path":"https://alexander-pastukhov.github.io/uncertainr/articles/walkthrough.html","id":"cherry-on-top-hex-sticker","dir":"Articles","previous_headings":"","what":"Cherry on top: Hex Sticker","title":"Walkthrough","text":"R tradition hex stickers packages.  can design using hexSticker package hand. sticker designed package:","code":""},{"path":"https://alexander-pastukhov.github.io/uncertainr/articles/walkthrough.html","id":"creating-a-doi-for-your-package","dir":"Articles","previous_headings":"","what":"Creating a DOI for your package","title":"Walkthrough","text":"want people cite package even without paper (), can create Digital Object Identifier release. , head zenodo.org, create account, follow instructions. need give Zenodo access Github account, can automate DOI generation release. can decide repositories watches. nice visual bonus, get nice DOI badge can easily embed README, e.g.:","code":""},{"path":"https://alexander-pastukhov.github.io/uncertainr/articles/walkthrough.html","id":"publishing-a-paper-on-your-package","dir":"Articles","previous_headings":"","what":"Publishing A Paper On Your Package","title":"Walkthrough","text":"probably want credit recognition work done, good idea publish paper . obvious choice, Behavior Research Methods. Perhaps less known options Journal Statistical Software Journal Open Source Software. philosophy latter already lot writing package, creating paper little hurdle possible. Hence, can just take vignettes section, put together intro outro submit. submission reviewing process unusual cool. submission just branch Github repository reviewer literally raises issues respond (lucky, might even make pull request). positive experience author reviewer, definitely interesting option.","code":""},{"path":"https://alexander-pastukhov.github.io/uncertainr/articles/walkthrough.html","id":"additional-resources","dir":"Articles","previous_headings":"","what":"Additional Resources","title":"Walkthrough","text":"aim walk cover important topics feel part minimal package. can build foundation create complex packages use classes formulas, include C Stan code, etc. sky limit. useful resources help future endeavors: Writing R Extensions Writing packages Posit Advanced R","code":""},{"path":"https://alexander-pastukhov.github.io/uncertainr/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Alexander Pastukhov. Author, maintainer.","code":""},{"path":"https://alexander-pastukhov.github.io/uncertainr/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Pastukhov (2025). uncertainr: Collection Functions Characterize Uncertainty. R package version 0.1.0, https://github.com/alexander-pastukhov/uncertainr.","code":"@Manual{,   title = {uncertainr: Collection of Functions To Characterize Uncertainty},   author = {Alexander Pastukhov},   year = {2025},   note = {R package version 0.1.0},   url = {https://github.com/alexander-pastukhov/uncertainr}, }"},{"path":"https://alexander-pastukhov.github.io/uncertainr/index.html","id":"uncertainr","dir":"","previous_headings":"","what":"Collection of Functions To Characterize Uncertainty","title":"Collection of Functions To Characterize Uncertainty","text":"Collection Functions Characterize Uncertainty","code":""},{"path":"https://alexander-pastukhov.github.io/uncertainr/index.html","id":"workshop-walkthrough","dir":"","previous_headings":"","what":"Workshop walkthrough","title":"Collection of Functions To Characterize Uncertainty","text":"walkthrough creating package please follow link.","code":""},{"path":"https://alexander-pastukhov.github.io/uncertainr/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Collection of Functions To Characterize Uncertainty","text":"install CRAN install github","code":"install.packages(\"installr\") library(\"devtools\") install_github(\"alexander-pastukhov/installr\", dependencies=TRUE)"},{"path":"https://alexander-pastukhov.github.io/uncertainr/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Collection of Functions To Characterize Uncertainty","text":"","code":"library(installr)  lower_pi(rnorm(100))"},{"path":"https://alexander-pastukhov.github.io/uncertainr/reference/lower_pi.html","id":null,"dir":"Reference","previous_headings":"","what":"Return lower boundary for the percentile interval — lower_pi","title":"Return lower boundary for the percentile interval — lower_pi","text":"Return lower boundary percentile interval","code":""},{"path":"https://alexander-pastukhov.github.io/uncertainr/reference/lower_pi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Return lower boundary for the percentile interval — lower_pi","text":"","code":"lower_pi(values, CI = 0.97)"},{"path":"https://alexander-pastukhov.github.io/uncertainr/reference/lower_pi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Return lower boundary for the percentile interval — lower_pi","text":"values Vector numeric values CI Float, confidence level. Default `0.97`","code":""},{"path":"https://alexander-pastukhov.github.io/uncertainr/reference/lower_pi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Return lower boundary for the percentile interval — lower_pi","text":"Float","code":""},{"path":"https://alexander-pastukhov.github.io/uncertainr/reference/lower_pi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Return lower boundary for the percentile interval — lower_pi","text":"","code":"lower_pi(rnorm(100)) #> [1] -2.358136"},{"path":"https://alexander-pastukhov.github.io/uncertainr/reference/standard_normal.html","id":null,"dir":"Reference","previous_headings":"","what":"Standard normally distributed values — standard_normal","title":"Standard normally distributed values — standard_normal","text":"Table normally distributed values mean = 0 standard deviation = 1.","code":""},{"path":"https://alexander-pastukhov.github.io/uncertainr/reference/standard_normal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standard normally distributed values — standard_normal","text":"","code":"standard_normal"},{"path":"https://alexander-pastukhov.github.io/uncertainr/reference/standard_normal.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Standard normally distributed values — standard_normal","text":"data frame 100 rows 1 column: Value Normally distributed values.","code":""},{"path":"https://alexander-pastukhov.github.io/uncertainr/reference/upper_pi.html","id":null,"dir":"Reference","previous_headings":"","what":"Return upper boundary for the percentile interval — upper_pi","title":"Return upper boundary for the percentile interval — upper_pi","text":"Return upper boundary percentile interval","code":""},{"path":"https://alexander-pastukhov.github.io/uncertainr/reference/upper_pi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Return upper boundary for the percentile interval — upper_pi","text":"","code":"upper_pi(values, CI = 0.97)"},{"path":"https://alexander-pastukhov.github.io/uncertainr/reference/upper_pi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Return upper boundary for the percentile interval — upper_pi","text":"values Vector numeric values CI Float, confidence level. Default `0.97`","code":""},{"path":"https://alexander-pastukhov.github.io/uncertainr/reference/upper_pi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Return upper boundary for the percentile interval — upper_pi","text":"Float","code":""},{"path":"https://alexander-pastukhov.github.io/uncertainr/reference/upper_pi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Return upper boundary for the percentile interval — upper_pi","text":"","code":"upper_pi(rnorm(100)) #> [1] 2.170584"}]
